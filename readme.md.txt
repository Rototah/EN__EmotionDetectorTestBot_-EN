Emotion Detection Telegram Bot
Описание проекта
Этот Telegram бот предназначен для определения эмоций в текстовых сообщениях на английском и русском языках. Бот использует модели машинного обучения для классификации эмоций и предоставляет пользователям визуальную обратную связь в виде анимированных стикеров, соответствующих выявленной эмоции.

Основные функции
Определение эмоций в текстовых сообщениях;
Поддержка двух языков: английского и русского;
Визуализация эмоций через анимированные стикеры;
Система обратной связи для улучшения точности;
Персональная статистика эмоций пользователя;
История последних запросов.

Используемые модели
Бот использует две предобученные модели из библиотеки Hugging Face Transformers:

Для английского языка: SamLowe/roberta-base-go_emotions - модель на основе RoBERTa, обученная на наборе данных Go Emotions.

Для русского языка: blanchefort/rubert-base-cased-sentiment - русскоязычная BERT-модель для анализа тональности текста.

Поддерживаемые эмоции
Бот распознает следующие эмоции:
Английский(Русский)
Joy (радость)
Sadness (грусть)
Anger (гнев)
Fear (страх)
Surprise (удивление)
Neutral (нейтрально)
Gratitude (благодарность)
Excitement (волнение)
Love ( любовь)
Loneliness ( одиночество)
Anticipation( ожидание)
Disgust ( отвращение)
Jealousy( ревность)
Embarrassment ( смущение)
Serenity ( спокойствие)
Shame ( стыд)
Confusion (замешательство)
no_emotion (нет эмоции)
Техническая архитектура
Проект состоит из двух основных компонентов:
FastAPI сервер (app.py):
Принимает текстовые запросы
Определяет язык текста
Выбирает соответствующую модель для анализа
Возвращает результат классификации

Telegram бот (bot.py):
Взаимодействует с пользователями через Telegram API
Отправляет запросы к FastAPI серверу
Обрабатывает ответы и предоставляет результат пользователю
Управляет системой обратной связи
Ведет историю запросов и статистику

Система обратной связи
Бот включает механизм краудсорсинга для улучшения точности:
После определения эмоции бот предлагает пользователю подтвердить или опровергнуть результат
Если пользователь указывает, что эмоция определена неверно, он может выбрать правильный вариант из списка
Результаты голосования сохраняются и используются для будущих предсказаний

Структура проекта
emotion-bot/
├── bot.py                # Основной код Telegram бота
├── app.py                # FastAPI сервер для обработки текста
├── requirements.txt      # Зависимости Python
├── new_triggers.json     # Правила для триггеров эмоций
├── user_data.json        # База данных пользователей и их запросов
├── en.json               # Локализация на английском
├── ru.json               # Локализация на русском
Запуск проекта
Установите зависимости:
pip install -r requirements.txt
Запустите FastAPI сервер:
python app.py
Запустите Telegram бота:
python bot.py
 Особенности реализации
Мультиязычная поддержка: автоматическое определение языка входящего сообщения
Визуализация эмоций: для каждой эмоции есть соответствующий анимированный стикер
Персонализация: бот сохраняет историю запросов каждого пользователя
Адаптивное обучение: система учитывает обратную связь пользователей для улучшения точности
Защита от спама: ограничение на частоту запросов (10 секунд между запросами)


Лицензия
Проект распространяется под лицензией MIT.